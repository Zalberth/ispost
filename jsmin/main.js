var constants={NO_NAME_CLASS:"亲，你的姓名或者班级还没有告诉我们",INVALIDPHONE:"请输入正确的11位手机号码，如：18866668888",SYSTEM_BUSY:"系统正忙，请稍后再试"};!function(t){t.fn.serializeJson=function(){{var e={},s=this.serializeArray();this.serialize()}return t(s).each(function(){e[this.name]?t.isArray(e[this.name])?e[this.name].push(this.value):e[this.name]=[e[this.name],this.value]:e[this.name]=this.value}),e}}(jQuery),function(t){t.fn.progressbarIs=function(e){function s(e,n){t(".progressbarIs").animate({width:"+="+n},1e3,function(){if("1"===e.state&&parseInt(t(this).css("width"))<=parseInt(i.css("width"))){var r=parseInt(i.css("width"))+5+"px";t(this).animate({width:r},function(){alert("报名成功！"),t(".progressbarIs").remove(),t(".mask4progress").remove(),i.find("input").val("")})}else"0"===e.state&&parseInt(t(this).css("width"))<parseInt(i.css("width"))&&(e.count++,console.log("doneFlag.count:"+e.count),e.count<8?s(e,n):(alert("暂时无法报名！"),t(".progressbarIs").remove(),t(".mask4progress").remove()))})}var n='<div class="progressbarIs"></div><div class="mask4progress"></div>';this.append(n);var i=this,r=parseInt(this.css("width"))/10+"px";return s(e,r),this}}(jQuery),$(function(){function t(){$("#centerZone .recruit").css("display","block"),$("#centerZone .recruit").animate({height:"200px"})}function e(){var t=/^\d{11}$/;if(""===$("#urname").val().trim()||""===$("#urname").val().trim())alert(constants.NO_NAME_CLASS);else if(t.test($("#urphone").val())){var e=$("#recruitForm").serializeJson(),s={state:"0",count:1};$("#centerZone .recruit").progressbarIs(s),$.post("/recruit",e,function(t){"1"===t.state&&(s.state="1")})}else alert(constants.INVALIDPHONE)}function s(){$("#centerZone .recruit").animate({height:"0px"},function(){$(this).css("display","none")})}String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},$("#joinis").on("click",t),$("#centerZone .confirmBtn").on("click",e),$("#centerZone .nextTime").on("click",s),$("#logoTitle").on("click",function(){window.location.href="index.html"})});